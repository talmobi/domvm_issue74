/*
 https://github.com/leeoniya/domvm (1.x-dev)
*/
("undefined"!==typeof global?global:this).domvm={};(function(w){var t=("undefined"==typeof window?{}:window).requestAnimationFrame,u={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,columnCount:!0,counterIncrement:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,"float":!0,fontWeight:!0,gridColumn:!0,lineHeight:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0,tabSize:!0,transform:!0,transformOrigin:!0,widows:!0,zIndex:!0,zoom:!0},n={TYPE_ELEM:1,
TYPE_TEXT:2,isArr:function(c){return c instanceof Array},isVal:function(c){c=typeof c;return"string"===c||"number"===c},isObj:function(c){return"object"===typeof c&&null!==c&&!n.isArr(c)},isFunc:function(c){return"function"===typeof c},isProm:function(c){return"object"===typeof c&&n.isFunc(c.then)},isElem:function(c){return c instanceof HTMLElement},execAll:function(c,f,g,a,k,x){var p;c&&(n.isArr(c)?c:[c]).forEach(function(c){p=c.call(null,f,g,a,k,x)});return p},tick:function(c,f){f&&t?t&&t(function(){n.tick(c,
f-1)}):n.isArr(c)?c[0].apply(null,c.slice(1)):c()},insertArr:function(c,f,g,a){c.splice.apply(c,[g,a].concat(f))},isEvProp:function(c){return"on"===c.substr(0,2)},isDynProp:function(c,f){switch(c){case "input":case "textarea":case "select":case "option":switch(f){case "value":case "checked":case "selected":case "selectedIndex":return!0}}},camelDash:function(c){return c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},autoPx:function(c,f){return isNaN(f)||u[c]?f:f+"px"},cmpArr:function(c,f){var g=
c.length;if(g!=f.length)return!1;for(;g--;)if(c[g]!==f[g])return!1;return!0},deepSet:function(c,f,g,a,k,x){f=f.split(".");var p=f.pop();f.forEach(function(a){c[a]||(c[a]={});c=c[a]});if(n.isFunc(c[p]))c[p](g,a,k,x);else c[p]=g},deepGet:function(c,f){var g=f.split(".");do c=c[g.shift()];while(g.length);return c},keyedIdx:function(c,f,g,a,k){for(a=0;a<f.length;a++)if(k=f[a],k.key===c)if(g){if(k.vm&&k.vm.view[0]===g)return a}else return a;return-1},raft:function(c){function f(){g=0;c.apply(a,k)}if(!t)return c;
var g,a,k;return function(){a=this;k=arguments;g||(g=t(f))}}};w.utils=n})(domvm);(function(w){function t(){for(var b;b=K.pop();)b[0].apply(null,b.slice(1))}function u(b,h){return!1===h?null:null==h&&null!=b?b:m.isVal(h)||m.isObj(h)||m.isArr(h)||m.isFunc(h)?h:null}function n(b,h,q,a,y,e){function l(b,h,e){if(e)b[h]=b[h]||[],b[h].push(e);else for(var q in h)b[q]=b[q]||[],b[q].push(h[q])}function d(b,h,q){y=b;e=h;r.update(q,!1);null!=r.node&&(y.body[e]=r.node);return n(0,!1)}function x(b){return null==b?"":b}function n(b,c){if(b){for(var a=r;b--&&a.parent;)a=a.parent;a.redraw(0,
!0);return a.vm}(a=r.node)&&f(r,"willRedraw",r);var C=r.refs;r.refs={};r.body=[];var l=r.render.call(r.api,r,h,q),d;if(!1===l||(d=k(l,y,e,r,!0))&&z(a,d))return a.moved=!0,a.wasSame=!0,r.refs=C,r;d.vm=r;r.node=d;C=m.isVal(q)&&"^"===q[0]?q.substr(1):m.isVal(d.ref)&&"^"===d.ref[0]?d.ref.substr(1):null;d.key=null!=q?q:d.key;for(l=y;l;)l.vm&&(r.parent||(r.parent=l.vm,l.vm.body.push(r)),null!==C&&m.deepSet(l.vm.refs,C,d)),l=l.parent;if((C=a)&&(d.type!==a.type||d.tag!==a.tag))var C=null,x=!0,L=a.el.parentNode;
p(d,C);y&&(y.body[e]=d);!1!==c&&(a&&g(a),!a&&A||v(d,null,d.el),x&&(L||d.parent.el).insertBefore(d.el,L.childNodes[a.idx]));a&&f(r,"didRedraw",r);!1!==c&&m.tick(t,2);return r}var A=!y;m.isArr(b)&&(h=b[1],q=b[2],a=b[3],b=b[0]);q=u(h,q);var r={api:{},node:null,view:[b,q],model:h,opts:a||{},render:null,update:function(b,e){null==b||q===h&&!m.isVal(q)||(h=r.model=b);return!1!==e?n(0):r},on:function(b,h){l(r.events,b,h)},hook:function(b,h){r.hooks=r.hooks||{};l(r.hooks,b,h)},events:{},hooks:null,redraw:G.useRaf?
m.raft(n):n,patch:function(b,h){var e=null!=b.el;if(m.isObj(h)){var q="class"in h?(x(b["class"])+" "+x(h["class"])).trim():b.props["class"],a="style"in h?h.style:b.props.style;e&&(e=Object.create(b.props),e["class"]=q,e.style=a,e={tag:b.tag,el:b.el,ns:b.ns,props:e},H(e,b));b.props["class"]=q;b.props.style=a}else q=b.parent,e=p(k(h,q,b.idx,r),b),q.body[b.idx]=e},emit:function(b){for(var h=Array.prototype.slice.call(arguments),e=r,q;e;){if(q=e.events[b]){h[0]=q;m.execAll.apply(null,h);break}e=e.parent}},
refs:{},parent:null,body:[],mount:function(b,h){var e=null;h&&(b.textContent="",e=b,b=null);v(r.node,e,null,b);return r},attach:function(b){c(r.node,b);return r},unmount:function(){g(r.node)},moveTo:d,updIdx:function(b){e=b}};a&&a.hooks&&r.hook(a.hooks);m.execAll(F,r);r.render=b.call(r.api,r,h,q);return y?d(y,e):n(0)}function c(b,h){b.el=h;h._node=b;for(var q in b.props){var a=b.props[q],y=m.isEvProp(q)?q:"."===q[0]?q.substr(1):null;null!==y&&(h[y]=a)}if(m.isArr(b.body))for(q=0;q<b.body.length;q++)c(b.body[q],
h.childNodes[q])}function f(b,h,q,a,c,e){if(b&&b.hooks&&(b=b.hooks[h]))if(G.useRaf&&"did"==h.substr(0,3))K.push([m.execAll,b,q,a,c,e]);else return m.execAll(b,q,a,c,e)}function g(b,h){var q=b.el&&!b.moved;if(q){var c=f(b.vm,"willUnmount",b.vm),y=f(b,"willRemove",b),e=c||y;b.removed=!0}b.wasSame?b.wasSame=!1:(m.isArr(b.body)&&b.body.forEach(function(b,q){g(b,h||e)}),h||(e?e.then(function(){a(b,q)}):a(b,q)));b.moved=!1}function a(b,h){null!=b.el&&b.el.parentNode&&(h&&(b.el.parentNode.removeChild(b.el),
b.el=null,f(b.vm,"didUnmount",b.vm),f(b,"didRemove",b)),m.isArr(b.body)&&b.body.forEach(function(b,h){a(b,!b.moved)}))}function k(b,h,q,a,c){var e=b;b={type:null,key:null,ref:null,idx:null,parent:null,moved:!1,wasSame:!1,removed:!1,hooks:null,tag:null,"class":null,ns:null,guard:!1,raw:!1,props:null,el:null,hasKeys:!1,body:null};m.isFunc(e)&&(e=e());var d=e.length;if(m.isArr(e)&&d){b.type=m.TYPE_ELEM;if(1<d){var l=1;m.isObj(e[1])&&!m.isElem(e[1])&&(b.props=e[1],l=2);b.body=d==l+1?m.isVal(e[l])?e[l]:
m.isFunc(e[l])?e[l]():e.slice(l):e.slice(l)}e=e[0];d=M[e];d||(d=["",""],d={tag:(e.match(/^[-\w]+/)||["div"])[0],id:(e.match(/#([-\w]+)/)||d)[1],"class":(e.match(/\.([-\w.]+)/)||d)[1].replace(/\./g," ")},M[e]=d);b.tag=d.tag;if(d.id||d["class"])e=b.props||{},d.id&&null==e.id&&(e.id=d.id),d["class"]&&(b["class"]=d["class"],e["class"]=d["class"]+(null!=e["class"]?" "+e["class"]:"")),b.props=e;if(b.props){var e=b.props,k;for(k in e)!m.isEvProp(k)&&m.isFunc(e[k])&&("href"==k?(e.onclick=e[k],e.href=e[k].href):
e[k]=e[k]()),m.isDynProp(b.tag,k)&&(e["."+k]=e[k]);if(m.isObj(e.style))for(var f in e.style)k=e.style[f],m.isFunc(k)&&(e.style[f]=k());m.isObj(e._hooks)&&(b.hooks=e._hooks,e._hooks=null);b.key=m.isVal(e._key)?e._key:m.isVal(e._ref)?e._ref:m.isVal(e.id)?e.id:m.isVal(e.name)?e.name:null;null!=e._ref&&(b.ref=e._ref);e._raw&&(b.raw=!0);null!=e._data&&(b.data=e._data);e._diff&&(b.diff=e._diff);e._ref=e._key=e._raw=e._data=e._diff=null}}else m.isVal(e)?(b.type=m.TYPE_TEXT,b.body=e):m.isElem(e)&&(b.type=
m.TYPE_ELEM,b.el=e,b.tag=e.nodeName.toLowerCase());null!==b.ref&&m.deepSet(a.refs,b.ref,b);b.parent=h;b.idx=q;b.ns=h&&h.ns?h.ns:"svg"===b.tag||"math"===b.tag?b.tag:null;c||b.diff||!m.isArr(b.body)||x(b,a);return b}function x(b,h){for(var a=0,c=b.body.length;a<c;a++){var d=b.body[a],e=null,l=null,f=!1,x=!1;m.isFunc(d)&&(d=d());if(null==d)f=!0;else{var g=m.isArr(d),p=g?!1:m.isObj(d);if(g)d.length?"string"==typeof d[0]&&""!==d[0]?(l=k(d,b,a,h),e=l.key):m.isFunc(d[0])?e=u(d[1],d[2]):x=!0:f=!0;else if(p)if(m.isFunc(d.redraw))d.moveTo(b,
a),l=d.node,e=d.view[1];else if(m.isElem(d))l=k(d,b,a,h);else{b.body[a--]=""+d;continue}else""===d?f=!0:0<a&&b.body[a-1].type===m.TYPE_TEXT?(b.body[a-1].body+=""+d,f=!0):l=k(""+d,b,a,h)}f||x?(x?m.insertArr(b.body,d,a,1):b.body.splice(a,1),c=b.body.length,a--):(null!==e&&(b.hasKeys=!0),b.body[a]=l||d)}b.body._init=!0}function p(b,h){if(z(h,b))return h.moved=!0,h.wasSame=!0,h;h&&(f(b,"willRecycle",h,b),d(h,b),f(b,"didRecycle",h,b));if(m.isArr(b.body)){if(!b.body._init){for(var a=b;!a.vm;)a=a.parent;
x(b,a.vm)}var c=0;b.body.forEach(function(a,e){var d=m.isArr(a);if(h){var q=A(a,b,h,c);if(null!==q){var l=q[0],q=q[1];l===c&&c++;l=h.body[l];l.vm?d?2===q?l.vm.moveTo(b,e,a[1]):1===q&&n(a[0],a[1],a[2],a[3],b,e):a.vm&&2===q&&a.vm===l.vm&&l.vm.moveTo(b,e):b.body[e]=p(a,l);return}}d?n(a[0],a[1],a[2],a[3],b,e):b.body[e]=p(a)})}return b}function v(b,h,a,d){for(var c=!b.el;a&&a._node.removed;)a=a.nextSibling;c&&f(b.vm,"willMount",b.vm);if(b.type==m.TYPE_ELEM)if(c&&(b.el=h||(b.ns?I.createElementNS(O[b.ns],
b.tag):I.createElement(b.tag)),b.props&&H(b)),m.isArr(b.body)){h=0;for(var e=b.el.firstChild;h<b.body.length;h++)e=v(b.body[h],null,e)}else m.isVal(b.body)&&(b.raw?b.el.innerHTML=b.body:c&&(b.el.textContent=b.body));else b.type==m.TYPE_TEXT&&c&&(b.el=I.createTextNode(b.body));b.el._node=b;h=b.parent;a!==b.el&&(d||h&&h.el)&&(h=c?"Insert":"Reinsert",f(b,"will"+h,b),(d||b.parent.el).insertBefore(b.el,a),f(b,"did"+h,b));c&&b.vm&&b.vm.hooks&&!b.moved&&f(b.vm,"didMount",b.vm);return a!==b.el?a:a.nextSibling}
function A(b,h,a,d,c){var e=m.isArr(b),l=e?u(b[1],b[2]):b.key,k=a.hasKeys,f=h.hasKeys;a=a.body;h=h.body;if(null!==l&&k)return b=m.keyedIdx(l,a,e?b[0]:null),-1<b?[b,2]:null;d=d||0;if(d>a.length-1)return null;c=0===c?0:c||a.length-1;for(l=null;d<=c;d++)if(k=a[d],null!==k&&k.el)if(e&&k.vm){if(k.vm.view[0]===b[0]){if(k.vm.view[1]===u(b[1],b[2]))return[d,2];!l&&f&&-1==m.keyedIdx(k.key,h,k.vm.view[0])&&(l=[d,1])}}else if(b.type===k.type&&(b.type===m.TYPE_TEXT||null!==b.tag&&b.tag===k.tag)&&(null===k.key||
!f||-1==m.keyedIdx(k.key,h,k.vm?k.vm.view[0]:null)))return[d,1];return l}function z(b,a){if(b&&b.diff&&a.diff&&b.diff[0]===a.diff[0]){var d=b.diff.slice(1).concat(a.diff.slice(1));return!a.diff[0].apply(null,d)}return!1}function d(b,a){a.el=b.el;b.el=null;a.el&&(a.el._node=a);if(a.type===m.TYPE_TEXT&&a.body!==b.body)a.el.nodeValue=a.body;else{H(a,b);var d=!m.isArr(a.body),c=!m.isArr(b.body);d&&a.body!==b.body?c&&a.el.firstChild?a.el.firstChild.nodeValue=a.body:a.raw?a.el.innerHTML=a.body:a.el.textContent=
a.body:c&&!d&&(a.el.textContent="");b.moved=!0}}function l(b,a,d,c){return function(d){var e,l=d.target._node,k=null;if(m.isFunc(b))e=b.call(a,d,l,c);else if(m.isArr(b))k=b.slice(1),e=b[0].apply(a,k.concat(d,l,c));else if(m.isObj(b))for(var q in b){var f=b[q];null!=f&&"_"!=q[0]&&d.target.matches(q)&&(m.isArr(f)?(k=f.slice(1),e=f[0].apply(a,k.concat(d,l,c))):m.isFunc(f)&&(e=f.call(a,d,l,c)))}!1===e&&(d.preventDefault(),d.stopPropagation());c.opts.hasOwnProperty("watch")&&c.opts.watch.fire({type:"event",
vm:c,node:l,event:d,data:k})}}function H(b,a){var d=!a;a=a||{};if(a.props||b.props){var c=a.props||{},l=b.props||{},e=c.style,k=l.style;if(m.isObj(e)||m.isObj(k))D(b.el,b.tag,e||{},k||{},B,J,b.ns,d,b),c.style=l.style=null;D(b.el,b.tag,c,l,E,N,b.ns,d,b);k&&(l.style=k)}}function D(b,a,d,c,l,e,k,f,x){for(var g in c)if(a=c[g],null!==a){var p="."===g[0]?b[g.substr(1)]:d[g];a===p||m.isArr(a)&&m.isArr(p)&&m.cmpArr(a,p)||l(b,g,a,k,f,x)}for(g in d)null!==d[g]&&null==c[g]&&e(b,g,k,f)}function B(b,a,d){b.style[a]=
m.autoPx(a,d)}function J(b,a){b.style[a]=""}function E(b,a,d,c,k,e){if("."===a[0])a=a.substr(1),"svg"===c?b[a].baseVal=d:b[a]=d;else if("class"===a)b.className=d;else if("id"===a)b[a]=d;else if(m.isEvProp(a)){for(c=e;!c.vm;)c=c.parent;b[a]=l(d,c.vm.opts.evctx||c.vm.model||null,e,c.vm)}else!1===d?N(b,a,c,k):b.setAttribute(a,!0===d?"":d)}function N(b,a,d,c){c||("."===a[0]?(a=a.substr(1),"svg"===d?b[a].baseVal=null:b[a]=null):"class"===a?b.className="":"id"===a||m.isEvProp(a)?b[a]=null:b.removeAttribute(a))}
var O={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},I="undefined"==typeof document?{}:document,M={},K=[],G={useRaf:!0};w.view=n;w.view.config=function(b){G=b};var F=null;w.view.extend=function(b,a){F=!F||a?[]:F;F.push(b)};var m=w.utils;return w})(domvm);(function(w){var t=/^(?:img|br|input|col|link|meta|area|base|command|embed|hr|keygen|param|source|track|wbr)$/,u=w.utils;w.html=function(n){var c="";switch(n.type){case u.TYPE_ELEM:c+="<"+n.tag;if(n.props){var f=u.isVal(n.props.style)?n.props.style:"",g=u.isObj(n.props.style)?n.props.style:null;if(g)for(var a in g)null!==g[a]&&(f+=u.camelDash(a)+": "+u.autoPx(a,g[a])+"; ");for(a in n.props)u.isEvProp(a)||"."===a[0]||(g=n.props[a],u.isFunc(g)&&(g=g()),u.isObj(g)||(!0===g?c+=" "+a:!1!==g&&null!==g&&
"."!==a[0]&&(c+=" "+a+'="'+g+'"')));f.length&&(c+=' style="'+f.trim()+'"')}if(n.ns&&"svg"!==n.tag&&"math"!==n.tag&&!n.body)return c+"/>";c+=">";break;case u.TYPE_TEXT:return n.body}t.test(n.tag)||(u.isArr(n.body)?n.body.forEach(function(a){c+=w.html(a)}):c+=n.body||"",c+="</"+n.tag+">");return c}})(domvm);(function(w){var t=w.utils;w.watch=function(u){function n(){}function c(a,c,f,p,v){v=v||{};v.method=a.toUpperCase();"credentials"in v||(v.credentials="same-origin");null!==f&&(t.isArr(f)||t.isObj(f)?(v.headers=v.headers||new Headers,v.headers.set("Content-Type","application/json"),v.body=JSON.stringify(f)):v.body=""+f);var A=p,z=n;p instanceof Array&&(A=p[0],p[1]&&(z=p[1]));var d={type:"fetch",fetch:{method:a,url:c,body:f}};p=fetch(c,v).then(function(a){if(200<=a.status&&300>a.status)return a;var d=
Error(a.status+": "+a.statusText);d.data=a;return Promise.reject(d)}).then(function(a){switch(a.headers.get("Content-Type").split("; ")[0]){case "application/json":return a.json();case "text/plain":return a.text();default:return a}}).then(A,z).then(function(a){!1!==a&&g.fire(d);return a},function(a){d.error=a;g.fire(d);return a});p._fetchArgs=[a,c,f,[A,z],v];return p}var f=[];t.isFunc(u)&&f.push(u);var g={on:function(a){f.push(a);return g},off:function(a){f.splice(f.indexOf(a),1);return g},fire:t.raft(function(a){t.execAll(f,
a);return g}),prop:function(a,k,f){var p=a,v=function(a,d,c){if(arguments.length&&a!==p){c=c||{type:"prop",prop:v,data:{old:p,"new":a}};f&&(a=f(c));if("undefined"==typeof a||a===p)return p;p=c.data["new"]=a;t.isFunc(d)?d(c):!1!==d&&g.fire(c)}return p};v._prop=!0;if(k&&k.then){v.update=n;if(k._fetchArgs){var A=k._fetchArgs[3];k._fetchArgs[3]=[function(a){return v(A[0]?A[0](a):a)},A[1]];v.update=function(){c.apply(null,k._fetchArgs)}}k.then(v)}return v.toString=v},sync:function(a,c,f){var p=a,n=c;t.isFunc(p)||
(p=function(c,k,d){if("string"==typeof a){var f,g;"e."==a.substr(0,2)?(f=c,g=a.substr(2)):(f=c.target,g=a)}return t.deepGet(f,g)});t.isArr(n)&&(n=function(a,f,d){var l=c[0],p=c[1];t.isFunc(p)&&(p=p(d.event,d.node,d.vm));var n=t.deepGet(l,p);a!==n&&(t.deepSet(l,p,a,f,d),t.isFunc(f)?f(d):!1!==f&&g.fire(d))});return function(a,c,d){var k={type:"sync",vm:d,node:c,event:a};n(p(a,c,d),f,k)}},fetch:c,get:function(a,f,n){n?a+=g.query(f):n=f;return c("get",a,null,n)},"delete":function(a,f,n){n?a+=g.query(f):
n=f;return c("delete",a,null,n)},post:function(a,f,g){return c("post",a,f,g)},put:function(a,f,g){return c("put",a,f,g)},patch:function(a,f,g){return c("patch",a,f,g)},query:function(a){if(!t.isObj(a))return"";var c=[],f=encodeURIComponent,g;for(g in a)c.push(f(g)+"="+f(a[g]));return c.length?"?"+c.join("&"):""}};return g}})(domvm);(function(w){function t(a,c,f,g,n,t){var u=null,d=null,l=null;if("/"==f[0]){l=f;d=!1;g={};t=l.split("#");c=t[0].split("?");u=c[0];t=t[1];c[1]&&(n={},c[1].split("&").map(function(a){a=a.split("=");n[a[0]]=null==a[1]?!0:a[1]}));var w,D;for(D in a){f=a[D];var B=f.path;if(w=u.match(f.regexPath)){d=D;-1!==B.indexOf(":")&&(g={},w.shift(),B.replace(/:([^\/]+)/g,function(a,c){g[c]=w.shift()}));break}}}else{d=f;f=a[d];var B=c+f.path,J=f.vars||{},l=-1!==B.indexOf(":")?u=B.replace(/:([^\/]+)/g,function(a,c){if((J[c]||
/^[^\/]+$/).test(g[c]))return g[c]+="";throw Error("Invalid value for route '"+B+"' segment '"+c+"': '"+g[c]+"'");}):u=B;if(n){var l=l+"?",E;for(E in n)l+=E+(!0!==n[E]?"="+n[E]:"")+"&";l=l.slice(0,-1)}l+=t?"#"+t:""}return{href:l,name:d,path:u,segs:g,hash:t,query:n}}function u(a,c){for(var f in a){var g=a[f];g.regexPath=new RegExp("^"+c+g.path.replace(/:([^\/]+)/g,function(a,c){var f=""+((g.vars||{})[c]||/[^\/]+/);return"("+f.substring(1,f.lastIndexOf("/"))+")"})+"$")}}var n=[],c=null,f=!1,g="";w.route=
function(a,k){function x(){var a=location,a=f?a.href.substr(a.origin.length):a.hash.substr(1)||"/";return t(w,g,a)}var p=null,v={href:function(a,c,k,n,p){var u=t(w,g,a,c,k,n);return f?(a=function(a){v["goto"](u,null,null,null,p);a.preventDefault()},a.href=u.href,a):"#"+u.href},config:function(a){(f=a.useHist)&&(g=a.root||"");p=a.init||null},refresh:function(){v["goto"](x(),null,null,null,!0)},"goto":function(a,l,k,p,u){a.href||(a=t(w,g,a,l,k,p));if(!1===a.name)console.log("Could not find route");
else{l=null;for(p=0;p<n.length;p++)if(n[p].href===a.href){l=p;break}null===l&&(n.splice(c+1,1E4),n.push(a),l=n.length-1);a=n[c];p=n[l];k=!0;null!==c&&(k=(k=w[a.name].onexit)?k.apply(null,(a?[a.segs,a.query,a.hash]:[]).concat(p)):!0);!1!==k&&!1!==w[p.name].onenter.apply(null,(p?[p.segs,p.query,p.hash]:[]).concat(a))&&(f?(z=!0,history[u?"replaceState":"pushState"](null,"title",p.href)):(p="#"+p.href,location.hash!==p&&(z=!0,u?location.replace(p):location.hash=p)),c=l)}},location:function(){return null==
c?x():n[c]}},w=a(v,k);u(w,g);var z=!1;window.onhashchange=window.onpopstate=function(a){if(f||"popstate"!=a.type)z?z=!1:v["goto"](x(),null,null,null,!0)};p&&p();return v}})(domvm);
